(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{"0bfb":function(e,l,t){"use strict";var a=t("cb7c");e.exports=function(){var e=a(this),l="";return e.global&&(l+="g"),e.ignoreCase&&(l+="i"),e.multiline&&(l+="m"),e.unicode&&(l+="u"),e.sticky&&(l+="y"),l}},"11e9":function(e,l,t){var a=t("52a7"),r=t("4630"),o=t("6821"),n=t("6a99"),s=t("69a8"),i=t("c69a"),c=Object.getOwnPropertyDescriptor;l.f=t("9e1e")?c:function(e,l){if(e=o(e),l=n(l,!0),i)try{return c(e,l)}catch(t){}if(s(e,l))return r(!a.f.call(e,l),e[l])}},1511:function(e,l,t){"use strict";t.r(l);var a=function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",{staticClass:"user"},[t("div",{staticClass:"user-tools"},[t("el-button",{attrs:{type:"primary"},on:{click:function(l){e.SHOW_USER_ADD=!0}}},[e._v("新增会员")]),t("el-button",{attrs:{type:"primary"},on:{click:function(l){e.SHOW_USER_ALL=!0}}},[e._v("编号总览")])],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.LOADING_USER_TABLE,expression:"LOADING_USER_TABLE"}],staticClass:"user-table",attrs:{data:e.user,"max-height":e.height,border:""}},[t("el-table-column",{attrs:{label:"状态",prop:"state"}}),t("el-table-column",{attrs:{label:"会员编号",prop:"id"}}),t("el-table-column",{attrs:{label:"姓名/昵称"},scopedSlots:e._u([{key:"default",fn:function(l){return[e._v("\n          "+e._s(l.row.realName+"（"+l.row.wxName+"）")+"\n        ")]}}])}),t("el-table-column",{attrs:{label:"车型"},scopedSlots:e._u([{key:"default",fn:function(l){return[e._v("\n          "+e._s(l.row.carType+"-"+l.row.carType2)+"\n        ")]}}])}),t("el-table-column",{attrs:{label:"车牌号",prop:"carNo"}}),t("el-table-column",{attrs:{label:"电话号码",prop:"phone"}}),t("el-table-column",{attrs:{label:"操作"}},[[t("i",{staticClass:"el-icon-edit",attrs:{title:"编辑"}})]],2)],1),e.SHOW_USER_ADD?t("el-dialog",{attrs:{title:"新增会员",visible:e.SHOW_USER_ADD,"close-on-click-modal":!1,width:"60%"},on:{"update:visible":function(l){e.SHOW_USER_ADD=l}}},[t("user-add",{ref:"userAdd"}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(l){e.SHOW_USER_ADD=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary",loading:e.LOADING_USER_ADD},on:{click:e.handleUserAddSubmit}},[e._v("确 定")])],1)],1):e._e(),e.SHOW_USER_ALL?t("el-dialog",{attrs:{title:"编号总览",visible:e.SHOW_USER_ALL,fullscreen:""},on:{"update:visible":function(l){e.SHOW_USER_ALL=l}}},[t("user-all",{attrs:{user:e.user}})],1):e._e()],1)},r=[],o=t("b3f5"),n=function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",{staticClass:"user-add"},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-col",{attrs:{span:11}},[t("el-form-item",{attrs:{label:"会员编号",prop:"userNo"}},[t("el-input",{model:{value:e.form.userNo,callback:function(l){e.$set(e.form,"userNo",l)},expression:"form.userNo"}})],1),t("el-form-item",{attrs:{label:"真实姓名",prop:"userRealName"}},[t("el-input",{model:{value:e.form.userRealName,callback:function(l){e.$set(e.form,"userRealName",l)},expression:"form.userRealName"}})],1),t("el-form-item",{attrs:{label:"昵称",prop:"userWxName"}},[t("el-input",{model:{value:e.form.userWxName,callback:function(l){e.$set(e.form,"userWxName",l)},expression:"form.userWxName"}})],1),t("el-form-item",{attrs:{label:"性别",prop:"sex"}},[t("el-select",{model:{value:e.form.sex,callback:function(l){e.$set(e.form,"sex",l)},expression:"form.sex"}},[t("el-option",{attrs:{label:"男",value:"男"}}),t("el-option",{attrs:{label:"女",value:"女"}})],1)],1),t("el-form-item",{attrs:{label:"地区"}},[t("el-cascader",{attrs:{options:e.cityOptions,props:{value:"label",checkStrictly:!0},filterable:""},model:{value:e.form.city,callback:function(l){e.$set(e.form,"city",l)},expression:"form.city"}})],1)],1),t("el-col",{attrs:{span:11,offset:2}},[t("el-form-item",{attrs:{label:"车型",prop:"carType"}},[t("el-cascader",{attrs:{options:e.carTypeOptions,props:{value:"label",checkStrictly:!0},filterable:""},model:{value:e.form.carType,callback:function(l){e.$set(e.form,"carType",l)},expression:"form.carType"}})],1),t("el-form-item",{attrs:{label:"车色",prop:"carColor"}},[t("el-select",{model:{value:e.form.carColor,callback:function(l){e.$set(e.form,"carColor",l)},expression:"form.carColor"}},e._l(e.carColorOptions,function(e,l){return t("el-option",{key:l,attrs:{label:e.label,value:e.label}})}),1)],1),t("el-form-item",{attrs:{label:"车牌号",prop:"carNo"}},[t("el-input",{model:{value:e.form.carNo,callback:function(l){e.$set(e.form,"carNo",l)},expression:"form.carNo"}})],1),t("el-form-item",{attrs:{label:"状态",prop:"userState"}},[t("el-select",{model:{value:e.form.userState,callback:function(l){e.$set(e.form,"userState",l)},expression:"form.userState"}},[t("el-option",{attrs:{label:"未领取",value:"未领取"}}),t("el-option",{attrs:{label:"未贴标",value:"未贴标"}}),t("el-option",{attrs:{label:"正常",value:"正常"}})],1)],1),t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{model:{value:e.form.phone,callback:function(l){e.$set(e.form,"phone",l)},expression:"form.phone"}})],1)],1)],1)],1)},s=[],i=[{label:"陕西",children:[{label:"西安"},{label:"咸阳"},{label:"宝鸡"},{label:"汉中"},{label:"渭南"},{label:"安康"},{label:"榆林"},{label:"商洛"},{label:"延安"},{label:"铜川"}]},{label:"北京"},{label:"上海"},{label:"广东",children:[{label:"东莞"},{label:"广州"},{label:"中山"},{label:"深圳"},{label:"惠州"},{label:"江门"},{label:"珠海"},{label:"汕头"},{label:"佛山"},{label:"湛江"},{label:"河源"},{label:"肇庆"},{label:"清远"},{label:"潮州"},{label:"韶关"},{label:"揭阳"},{label:"阳江"},{label:"梅州"},{label:"云浮"},{label:"茂名"},{label:"汕尾"}]},{label:"山东",children:[{label:"济南"},{label:"青岛"},{label:"临沂"},{label:"济宁"},{label:"菏泽"},{label:"烟台"},{label:"淄博"},{label:"泰安"},{label:"潍坊"},{label:"日照"},{label:"威海"},{label:"滨州"},{label:"东营"},{label:"聊城"},{label:"德州"},{label:"莱芜"},{label:"枣庄"}]},{label:"江苏",children:[{label:"苏州"},{label:"徐州"},{label:"盐城"},{label:"无锡"},{label:"南京"},{label:"南通"},{label:"连云港"},{label:"常州"},{label:"镇江"},{label:"扬州"},{label:"淮安"},{label:"泰州"},{label:"宿迁"}]},{label:"河南",children:[{label:"郑州"},{label:"南阳"},{label:"新乡"},{label:"安阳"},{label:"洛阳"},{label:"信阳"},{label:"平顶山"},{label:"周口"},{label:"商丘"},{label:"开封"},{label:"焦作"},{label:"驻马店"},{label:"濮阳"},{label:"三门峡"},{label:"漯河"},{label:"许昌"},{label:"鹤壁"},{label:"济源"}]},{label:"河北",children:[{label:"石家庄"},{label:"唐山"},{label:"保定"},{label:"邯郸"},{label:"邢台"},{label:"河北区"},{label:"沧州"},{label:"秦皇岛"},{label:"张家口"},{label:"衡水"},{label:"廊坊"},{label:"承德"}]},{label:"浙江",children:[{label:"温州"},{label:"宁波"},{label:"杭州"},{label:"台州"},{label:"嘉兴"},{label:"金华"},{label:"湖州"},{label:"绍兴"},{label:"舟山"},{label:"丽水"},{label:"衢州"}]}],c={data:function(){return{cityOptions:i,form:{userNo:"",userRealName:"",userWxName:"",sex:"男",city:["陕西","西安"],carType:["01"],carColor:"白色",carNo:"",userState:"未领取",phone:""},rules:{userNo:[{required:!0,message:"会员编号不能为空",trigger:"blur"}],userRealName:[{required:!0,message:"真实姓名不能为空",trigger:"blur"}]}}},computed:{carTypeOptions:function(){return this.$store.state.carTypeOptions},carColorOptions:function(){return this.$store.state.carColorOptions}},methods:{postData:function(){var e=this;return new Promise(function(l,t){e.$refs["form"].validate(function(a){a?o["a"].post("/userAdd",e.form).then(function(a){a.data.result?(e.$message.success(a.data.message),l()):(e.$message.error(a.data.message),t(new Error("添加会员失败")))}).catch(function(l){e.$message.error("服务器发生错误"),t(new Error("通讯失败"))}):t(new Error("表单验证不通过"))})})}}},u=c,b=(t("5085"),t("2877")),f=Object(b["a"])(u,n,s,!1,null,null,null),p=f.exports,m=function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",{staticClass:"user-all"},e._l(e.allId,function(l){return t("span",{key:l.id,class:"unit "+(l.active?"active":"")},[e._v(e._s(l.id))])}),0)},d=[],h=(t("6b54"),t("c5f6"),t("55dd"),{props:{user:{type:Array,required:!0}},data:function(){return{list:[],allId:[]}},created:function(){this.process()},methods:{process:function(){this.list=JSON.parse(JSON.stringify(this.user)),this.list.sort(function(e,l){return Number(e)-Number(l)});for(var e=1,l=0;e<1e3;e++)1===e.toString().length?this.allId.push({id:"00"+e,active:!1}):2===e.toString().length?this.allId.push({id:"0"+e,active:!1}):this.allId.push({id:e.toString(),active:!1}),this.list[l]&&this.allId[e-1].id===this.list[l].id&&(this.allId[e-1].active=!0,l++)}}}),_=h,v=(t("2c9a"),Object(b["a"])(_,m,d,!1,null,null,null)),g=v.exports,N={components:{UserAdd:p,UserAll:g},data:function(){return{user:[],height:0,SHOW_USER_ADD:!1,LOADING_USER_ADD:!1,LOADING_USER_TABLE:!1,SHOW_USER_ALL:!1}},created:function(){this.getList()},mounted:function(){this.height=document.getElementById("homeRight").clientHeight-150},methods:{getList:function(){var e=this;this.LOADING_USER_TABLE=!0,o["a"].get("/userList").then(function(l){!0===l.data.result?e.user=l.data.userList:e.$message.error(l.data.message),e.LOADING_USER_TABLE=!1}).catch(function(l){e.$message.error("查询会员列表失败"),e.LOADING_USER_TABLE=!1})},handleUserAddSubmit:function(){var e=this;this.LOADING_USER_ADD=!0,this.$refs["userAdd"].postData().then(function(){e.LOADING_USER_ADD=!1,e.SHOW_USER_ADD=!1,e.getList()}).catch(function(){e.LOADING_USER_ADD=!1})}}},S=N,A=(t("e8c3"),Object(b["a"])(S,a,r,!1,null,null,null));l["default"]=A.exports},"2c9a":function(e,l,t){"use strict";var a=t("8b08"),r=t.n(a);r.a},"2f21":function(e,l,t){"use strict";var a=t("79e5");e.exports=function(e,l){return!!e&&a(function(){l?e.call(null,function(){},1):e.call(null)})}},3846:function(e,l,t){t("9e1e")&&"g"!=/./g.flags&&t("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:t("0bfb")})},5085:function(e,l,t){"use strict";var a=t("a885"),r=t.n(a);r.a},"55dd":function(e,l,t){"use strict";var a=t("5ca1"),r=t("d8e8"),o=t("4bf8"),n=t("79e5"),s=[].sort,i=[1,2,3];a(a.P+a.F*(n(function(){i.sort(void 0)})||!n(function(){i.sort(null)})||!t("2f21")(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),r(e))}})},"5dbc":function(e,l,t){var a=t("d3f4"),r=t("8b97").set;e.exports=function(e,l,t){var o,n=l.constructor;return n!==t&&"function"==typeof n&&(o=n.prototype)!==t.prototype&&a(o)&&r&&r(e,o),e}},"6b54":function(e,l,t){"use strict";t("3846");var a=t("cb7c"),r=t("0bfb"),o=t("9e1e"),n="toString",s=/./[n],i=function(e){t("2aba")(RegExp.prototype,n,e,!0)};t("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?i(function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)}):s.name!=n&&i(function(){return s.call(this)})},"8b08":function(e,l,t){},"8b97":function(e,l,t){var a=t("d3f4"),r=t("cb7c"),o=function(e,l){if(r(e),!a(l)&&null!==l)throw TypeError(l+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,l,a){try{a=t("9b43")(Function.call,t("11e9").f(Object.prototype,"__proto__").set,2),a(e,[]),l=!(e instanceof Array)}catch(r){l=!0}return function(e,t){return o(e,t),l?e.__proto__=t:a(e,t),e}}({},!1):void 0),check:o}},9093:function(e,l,t){var a=t("ce10"),r=t("e11e").concat("length","prototype");l.f=Object.getOwnPropertyNames||function(e){return a(e,r)}},a885:function(e,l,t){},aa77:function(e,l,t){var a=t("5ca1"),r=t("be13"),o=t("79e5"),n=t("fdef"),s="["+n+"]",i="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),b=function(e,l,t){var r={},s=o(function(){return!!n[e]()||i[e]()!=i}),c=r[e]=s?l(f):n[e];t&&(r[t]=c),a(a.P+a.F*s,"String",r)},f=b.trim=function(e,l){return e=String(r(e)),1&l&&(e=e.replace(c,"")),2&l&&(e=e.replace(u,"")),e};e.exports=b},c5f6:function(e,l,t){"use strict";var a=t("7726"),r=t("69a8"),o=t("2d95"),n=t("5dbc"),s=t("6a99"),i=t("79e5"),c=t("9093").f,u=t("11e9").f,b=t("86cc").f,f=t("aa77").trim,p="Number",m=a[p],d=m,h=m.prototype,_=o(t("2aeb")(h))==p,v="trim"in String.prototype,g=function(e){var l=s(e,!1);if("string"==typeof l&&l.length>2){l=v?l.trim():f(l,3);var t,a,r,o=l.charCodeAt(0);if(43===o||45===o){if(t=l.charCodeAt(2),88===t||120===t)return NaN}else if(48===o){switch(l.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+l}for(var n,i=l.slice(2),c=0,u=i.length;c<u;c++)if(n=i.charCodeAt(c),n<48||n>r)return NaN;return parseInt(i,a)}}return+l};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var l=arguments.length<1?0:e,t=this;return t instanceof m&&(_?i(function(){h.valueOf.call(t)}):o(t)!=p)?n(new d(g(l)),t,m):g(l)};for(var N,S=t("9e1e")?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;S.length>A;A++)r(d,N=S[A])&&!r(m,N)&&b(m,N,u(d,N));m.prototype=h,h.constructor=m,t("2aba")(a,p,m)}},e094:function(e,l,t){},e8c3:function(e,l,t){"use strict";var a=t("e094"),r=t.n(a);r.a},fdef:function(e,l){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=user.ff3412b5.js.map