(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{"0bfb":function(e,t,l){"use strict";var a=l("cb7c");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"11e9":function(e,t,l){var a=l("52a7"),r=l("4630"),o=l("6821"),s=l("6a99"),n=l("69a8"),i=l("c69a"),c=Object.getOwnPropertyDescriptor;t.f=l("9e1e")?c:function(e,t){if(e=o(e),t=s(t,!0),i)try{return c(e,t)}catch(l){}if(n(e,t))return r(!a.f.call(e,t),e[t])}},1511:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"user"},[l("div",{staticClass:"user-tools"},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.SHOW_USER_ADD=!0}}},[e._v("新增会员")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.SHOW_USER_ALL=!0}}},[e._v("编号总览")]),l("el-button",{staticStyle:{float:"right"},attrs:{type:"success",icon:"el-icon-search",circle:""},on:{click:e.handleSearchToggle}})],1),l("transition",{attrs:{name:"user-search"}},[l("div",{directives:[{name:"show",rawName:"v-show",value:e.SHOW_SEARCH,expression:"SHOW_SEARCH"}],staticClass:"user-search"},[l("el-form",{attrs:{inline:!0,model:e.searchForm,size:"small"}},[l("el-form-item",{attrs:{label:"状态"}},[l("el-select",{model:{value:e.searchForm.userState,callback:function(t){e.$set(e.searchForm,"userState",t)},expression:"searchForm.userState"}},[l("el-option",{attrs:{label:"未领取",value:"未领取"}}),l("el-option",{attrs:{label:"未贴标",value:"未贴标"}}),l("el-option",{attrs:{label:"正常",value:"正常"}})],1)],1),l("el-form-item",{attrs:{label:"会员编号"}},[l("el-input",{model:{value:e.searchForm.id,callback:function(t){e.$set(e.searchForm,"id",t)},expression:"searchForm.id"}})],1),l("el-form-item",{attrs:{label:"姓名"}},[l("el-input",{model:{value:e.searchForm.realName,callback:function(t){e.$set(e.searchForm,"realName",t)},expression:"searchForm.realName"}})],1),l("el-form-item",{attrs:{label:"昵称"}},[l("el-input",{model:{value:e.searchForm.wxName,callback:function(t){e.$set(e.searchForm,"wxName",t)},expression:"searchForm.wxName"}})],1),l("el-form-item",{attrs:{label:"车型"}},[l("el-input",{model:{value:e.searchForm.carType,callback:function(t){e.$set(e.searchForm,"carType",t)},expression:"searchForm.carType"}})],1),l("el-form-item",{attrs:{label:"车色"}},[l("el-select",{model:{value:e.searchForm.carColor,callback:function(t){e.$set(e.searchForm,"carColor",t)},expression:"searchForm.carColor"}},e._l(e.carColorOptions,function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.label}})}),1)],1),l("el-form-item",{attrs:{label:"车牌号"}},[l("el-input",{model:{value:e.searchForm.carNo,callback:function(t){e.$set(e.searchForm,"carNo",t)},expression:"searchForm.carNo"}})],1),l("el-form-item",{attrs:{label:"电话"}},[l("el-input",{model:{value:e.searchForm.phone,callback:function(t){e.$set(e.searchForm,"phone",t)},expression:"searchForm.phone"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.handleSearchSubmit}},[e._v("搜索")]),l("el-button",{attrs:{type:"info"},on:{click:e.handleSearchClear}},[e._v("清空")])],1)],1)],1)]),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.LOADING_USER_TABLE,expression:"LOADING_USER_TABLE"}],staticClass:"user-table",attrs:{data:e.userCache,"max-height":e.tableHeight,border:""}},[l("el-table-column",{attrs:{label:"状态",prop:"state"}}),l("el-table-column",{attrs:{label:"会员编号",prop:"id"}}),l("el-table-column",{attrs:{label:"姓名/昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.realName+"（"+t.row.wxName+"）")+"\n        ")]}}])}),l("el-table-column",{attrs:{label:"车型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.carType+"-"+t.row.carType2)+"\n        ")]}}])}),l("el-table-column",{attrs:{label:"车牌号",prop:"carNo"}}),l("el-table-column",{attrs:{label:"电话",prop:"phone"}}),l("el-table-column",{attrs:{label:"操作"}},[[l("i",{staticClass:"el-icon-edit",attrs:{title:"编辑"}})]],2)],1),e.SHOW_USER_ADD?l("el-dialog",{attrs:{title:"新增会员",visible:e.SHOW_USER_ADD,"close-on-click-modal":!1,width:"60%"},on:{"update:visible":function(t){e.SHOW_USER_ADD=t}}},[l("user-add",{ref:"userAdd"}),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.SHOW_USER_ADD=!1}}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary",loading:e.LOADING_USER_ADD},on:{click:e.handleUserAddSubmit}},[e._v("确 定")])],1)],1):e._e(),e.SHOW_USER_ALL?l("el-dialog",{attrs:{title:"编号总览",visible:e.SHOW_USER_ALL,fullscreen:""},on:{"update:visible":function(t){e.SHOW_USER_ALL=t}}},[l("user-all",{attrs:{user:e.user}})],1):e._e()],1)},r=[],o=l("b3f5"),s=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"user-add"},[l("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"会员编号",prop:"userNo"}},[l("el-input",{model:{value:e.form.userNo,callback:function(t){e.$set(e.form,"userNo",t)},expression:"form.userNo"}})],1),l("el-form-item",{attrs:{label:"真实姓名",prop:"userRealName"}},[l("el-input",{model:{value:e.form.userRealName,callback:function(t){e.$set(e.form,"userRealName",t)},expression:"form.userRealName"}})],1),l("el-form-item",{attrs:{label:"昵称",prop:"userWxName"}},[l("el-input",{model:{value:e.form.userWxName,callback:function(t){e.$set(e.form,"userWxName",t)},expression:"form.userWxName"}})],1),l("el-form-item",{attrs:{label:"性别",prop:"sex"}},[l("el-select",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[l("el-option",{attrs:{label:"男",value:"男"}}),l("el-option",{attrs:{label:"女",value:"女"}})],1)],1),l("el-form-item",{attrs:{label:"地区"}},[l("el-cascader",{attrs:{options:e.cityOptions,props:{value:"label",checkStrictly:!0},filterable:""},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})],1)],1),l("el-col",{attrs:{span:11,offset:2}},[l("el-form-item",{attrs:{label:"车型",prop:"carType"}},[l("el-cascader",{attrs:{options:e.carTypeOptions,props:{value:"label",checkStrictly:!0},filterable:""},model:{value:e.form.carType,callback:function(t){e.$set(e.form,"carType",t)},expression:"form.carType"}})],1),l("el-form-item",{attrs:{label:"车色",prop:"carColor"}},[l("el-select",{model:{value:e.form.carColor,callback:function(t){e.$set(e.form,"carColor",t)},expression:"form.carColor"}},e._l(e.carColorOptions,function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.label}})}),1)],1),l("el-form-item",{attrs:{label:"车牌号",prop:"carNo"}},[l("el-input",{model:{value:e.form.carNo,callback:function(t){e.$set(e.form,"carNo",t)},expression:"form.carNo"}})],1),l("el-form-item",{attrs:{label:"状态",prop:"userState"}},[l("el-select",{model:{value:e.form.userState,callback:function(t){e.$set(e.form,"userState",t)},expression:"form.userState"}},[l("el-option",{attrs:{label:"未领取",value:"未领取"}}),l("el-option",{attrs:{label:"未贴标",value:"未贴标"}}),l("el-option",{attrs:{label:"正常",value:"正常"}})],1)],1),l("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[l("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1)],1)],1)},n=[],i=[{label:"陕西",children:[{label:"西安"},{label:"咸阳"},{label:"宝鸡"},{label:"汉中"},{label:"渭南"},{label:"安康"},{label:"榆林"},{label:"商洛"},{label:"延安"},{label:"铜川"}]},{label:"北京"},{label:"上海"},{label:"广东",children:[{label:"东莞"},{label:"广州"},{label:"中山"},{label:"深圳"},{label:"惠州"},{label:"江门"},{label:"珠海"},{label:"汕头"},{label:"佛山"},{label:"湛江"},{label:"河源"},{label:"肇庆"},{label:"清远"},{label:"潮州"},{label:"韶关"},{label:"揭阳"},{label:"阳江"},{label:"梅州"},{label:"云浮"},{label:"茂名"},{label:"汕尾"}]},{label:"山东",children:[{label:"济南"},{label:"青岛"},{label:"临沂"},{label:"济宁"},{label:"菏泽"},{label:"烟台"},{label:"淄博"},{label:"泰安"},{label:"潍坊"},{label:"日照"},{label:"威海"},{label:"滨州"},{label:"东营"},{label:"聊城"},{label:"德州"},{label:"莱芜"},{label:"枣庄"}]},{label:"江苏",children:[{label:"苏州"},{label:"徐州"},{label:"盐城"},{label:"无锡"},{label:"南京"},{label:"南通"},{label:"连云港"},{label:"常州"},{label:"镇江"},{label:"扬州"},{label:"淮安"},{label:"泰州"},{label:"宿迁"}]},{label:"河南",children:[{label:"郑州"},{label:"南阳"},{label:"新乡"},{label:"安阳"},{label:"洛阳"},{label:"信阳"},{label:"平顶山"},{label:"周口"},{label:"商丘"},{label:"开封"},{label:"焦作"},{label:"驻马店"},{label:"濮阳"},{label:"三门峡"},{label:"漯河"},{label:"许昌"},{label:"鹤壁"},{label:"济源"}]},{label:"河北",children:[{label:"石家庄"},{label:"唐山"},{label:"保定"},{label:"邯郸"},{label:"邢台"},{label:"河北区"},{label:"沧州"},{label:"秦皇岛"},{label:"张家口"},{label:"衡水"},{label:"廊坊"},{label:"承德"}]},{label:"浙江",children:[{label:"温州"},{label:"宁波"},{label:"杭州"},{label:"台州"},{label:"嘉兴"},{label:"金华"},{label:"湖州"},{label:"绍兴"},{label:"舟山"},{label:"丽水"},{label:"衢州"}]}],c={data:function(){return{cityOptions:i,form:{userNo:"",userRealName:"",userWxName:"",sex:"男",city:["陕西","西安"],carType:["01"],carColor:"白色",carNo:"",userState:"未领取",phone:""},rules:{userNo:[{required:!0,message:"会员编号不能为空",trigger:"blur"}],userRealName:[{required:!0,message:"真实姓名不能为空",trigger:"blur"}]}}},computed:{carTypeOptions:function(){return this.$store.state.carTypeOptions},carColorOptions:function(){return this.$store.state.carColorOptions}},methods:{postData:function(){var e=this;return new Promise(function(t,l){e.$refs["form"].validate(function(a){a?o["a"].post("/userAdd",e.form).then(function(a){a.data.result?(e.$message.success(a.data.message),t()):(e.$message.error(a.data.message),l(new Error("添加会员失败")))}).catch(function(t){e.$message.error("服务器发生错误"),l(new Error("通讯失败"))}):l(new Error("表单验证不通过"))})})}}},u=c,b=(l("5085"),l("2877")),f=Object(b["a"])(u,s,n,!1,null,null,null),m=f.exports,p=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"user-all"},e._l(e.allId,function(t){return l("span",{key:t.id,class:"unit "+(t.active?"active":"")},[e._v(e._s(t.id))])}),0)},h=[],d=(l("6b54"),l("c5f6"),l("55dd"),{props:{user:{type:Array,required:!0}},data:function(){return{list:[],allId:[]}},created:function(){this.process()},methods:{process:function(){this.list=JSON.parse(JSON.stringify(this.user)),this.list.sort(function(e,t){return Number(e)-Number(t)});for(var e=1,t=0;e<1e3;e++)1===e.toString().length?this.allId.push({id:"00"+e,active:!1}):2===e.toString().length?this.allId.push({id:"0"+e,active:!1}):this.allId.push({id:e.toString(),active:!1}),this.list[t]&&this.allId[e-1].id===this.list[t].id&&(this.allId[e-1].active=!0,t++)}}}),_=d,v=(l("2c9a"),Object(b["a"])(_,p,h,!1,null,null,null)),S=v.exports,N={components:{UserAdd:m,UserAll:S},data:function(){return{user:[],userCache:[],SHOW_SEARCH:!1,searchForm:{userState:"",id:"",realName:"",wxName:"",carType:"",carColor:"",carNo:"",phone:""},tableHeight:0,SHOW_USER_ADD:!1,LOADING_USER_ADD:!1,LOADING_USER_TABLE:!1,SHOW_USER_ALL:!1}},computed:{carColorOptions:function(){return this.$store.state.carColorOptions}},created:function(){this.getList()},mounted:function(){this.tableHeight=document.getElementById("homeRight").clientHeight-150},methods:{getList:function(){var e=this;this.LOADING_USER_TABLE=!0,o["a"].get("/userList").then(function(t){!0===t.data.result?(e.user=t.data.userList,e.userCache=JSON.parse(JSON.stringify(t.data.userList))):e.$message.error(t.data.message),e.LOADING_USER_TABLE=!1}).catch(function(t){e.$message.error("查询会员列表失败"),e.LOADING_USER_TABLE=!1})},handleUserAddSubmit:function(){var e=this;this.LOADING_USER_ADD=!0,this.$refs["userAdd"].postData().then(function(){e.LOADING_USER_ADD=!1,e.SHOW_USER_ADD=!1,e.getList()}).catch(function(){e.LOADING_USER_ADD=!1})},handleSearchToggle:function(){this.SHOW_SEARCH=!this.SHOW_SEARCH,!0===this.SHOW_SEARCH?this.tableHeight-=115:this.tableHeight+=115},handleSearchSubmit:function(){this.LOADING_USER_TABLE=!0;for(var e=[],t=0;t<this.user.length;t++)this.user[t].state.indexOf(this.searchForm.userState)>-1&&this.user[t].id.indexOf(this.searchForm.id)>-1&&this.user[t].realName.indexOf(this.searchForm.realName)>-1&&this.user[t].wxName.indexOf(this.searchForm.wxName)>-1&&"".concat(this.user[t].carType,"-").concat(this.user[t].carType2).indexOf(this.searchForm.carType)>-1&&this.user[t].carColor.indexOf(this.searchForm.carColor)>-1&&this.user[t].carNo.indexOf(this.searchForm.carNo)>-1&&this.user[t].phone.indexOf(this.searchForm.phone)>-1&&e.push(this.user[t]);this.userCache=e,this.LOADING_USER_TABLE=!1},handleSearchClear:function(){for(var e in this.LOADING_USER_TABLE=!0,this.userCache=JSON.parse(JSON.stringify(this.user)),this.searchForm)this.searchForm[e]="";this.LOADING_USER_TABLE=!1}}},g=N,O=(l("e8c3"),Object(b["a"])(g,a,r,!1,null,null,null));t["default"]=O.exports},"2c9a":function(e,t,l){"use strict";var a=l("8b08"),r=l.n(a);r.a},"2f21":function(e,t,l){"use strict";var a=l("79e5");e.exports=function(e,t){return!!e&&a(function(){t?e.call(null,function(){},1):e.call(null)})}},3846:function(e,t,l){l("9e1e")&&"g"!=/./g.flags&&l("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:l("0bfb")})},5085:function(e,t,l){"use strict";var a=l("a885"),r=l.n(a);r.a},"55dd":function(e,t,l){"use strict";var a=l("5ca1"),r=l("d8e8"),o=l("4bf8"),s=l("79e5"),n=[].sort,i=[1,2,3];a(a.P+a.F*(s(function(){i.sort(void 0)})||!s(function(){i.sort(null)})||!l("2f21")(n)),"Array",{sort:function(e){return void 0===e?n.call(o(this)):n.call(o(this),r(e))}})},"5dbc":function(e,t,l){var a=l("d3f4"),r=l("8b97").set;e.exports=function(e,t,l){var o,s=t.constructor;return s!==l&&"function"==typeof s&&(o=s.prototype)!==l.prototype&&a(o)&&r&&r(e,o),e}},"6b54":function(e,t,l){"use strict";l("3846");var a=l("cb7c"),r=l("0bfb"),o=l("9e1e"),s="toString",n=/./[s],i=function(e){l("2aba")(RegExp.prototype,s,e,!0)};l("79e5")(function(){return"/a/b"!=n.call({source:"a",flags:"b"})})?i(function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)}):n.name!=s&&i(function(){return n.call(this)})},"8b08":function(e,t,l){},"8b97":function(e,t,l){var a=l("d3f4"),r=l("cb7c"),o=function(e,t){if(r(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=l("9b43")(Function.call,l("11e9").f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,l){return o(e,l),t?e.__proto__=l:a(e,l),e}}({},!1):void 0),check:o}},9093:function(e,t,l){var a=l("ce10"),r=l("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,r)}},a885:function(e,t,l){},aa77:function(e,t,l){var a=l("5ca1"),r=l("be13"),o=l("79e5"),s=l("fdef"),n="["+s+"]",i="​",c=RegExp("^"+n+n+"*"),u=RegExp(n+n+"*$"),b=function(e,t,l){var r={},n=o(function(){return!!s[e]()||i[e]()!=i}),c=r[e]=n?t(f):s[e];l&&(r[l]=c),a(a.P+a.F*n,"String",r)},f=b.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=b},c5f6:function(e,t,l){"use strict";var a=l("7726"),r=l("69a8"),o=l("2d95"),s=l("5dbc"),n=l("6a99"),i=l("79e5"),c=l("9093").f,u=l("11e9").f,b=l("86cc").f,f=l("aa77").trim,m="Number",p=a[m],h=p,d=p.prototype,_=o(l("2aeb")(d))==m,v="trim"in String.prototype,S=function(e){var t=n(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():f(t,3);var l,a,r,o=t.charCodeAt(0);if(43===o||45===o){if(l=t.charCodeAt(2),88===l||120===l)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+t}for(var s,i=t.slice(2),c=0,u=i.length;c<u;c++)if(s=i.charCodeAt(c),s<48||s>r)return NaN;return parseInt(i,a)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,l=this;return l instanceof p&&(_?i(function(){d.valueOf.call(l)}):o(l)!=m)?s(new h(S(t)),l,p):S(t)};for(var N,g=l("9e1e")?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;g.length>O;O++)r(h,N=g[O])&&!r(p,N)&&b(p,N,u(h,N));p.prototype=d,d.constructor=p,l("2aba")(a,m,p)}},e094:function(e,t,l){},e8c3:function(e,t,l){"use strict";var a=l("e094"),r=l.n(a);r.a},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=user.d059bd4f.js.map